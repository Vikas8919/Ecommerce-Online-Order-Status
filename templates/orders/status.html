{% extends 'base.html' %}

{% block content %}

<style>
    h1 {
        text-align: center;
        margin-bottom: 25px;
        color: #111827;
    }

    .table-container {
        overflow-x: auto;
    }

    table {
        width: 100%;
        border-collapse: collapse;
        background: white;
        border-radius: 12px;
        overflow: hidden;
        box-shadow: 0 4px 12px rgba(0,0,0,0.1);
    }

    th, td {
        padding: 12px 15px;
        text-align: center;
    }

    th {
        background: #1f2933;
        color: white;
        font-weight: 600;
        font-size: 14px;
    }

    tr:nth-child(even) {
        background: #f3f4f6;
    }

    td {
        color: #374151;
        font-size: 14px;
    }

    .status {
        font-weight: bold;
        color: #2563eb;
    }

    .empty {
        text-align: center;
        font-size: 18px;
        color: #6b7280;
        margin-top: 40px;
    }
</style>

<h1>My Orders</h1>

{% if orders %}
<div class="table-container">
<table>
    <tr>
        <th>Order ID</th>
        <th>Product</th>
        <th>Quantity</th>
        <th>Price</th>
        <th>Total Price</th>
        <th>Updated Time</th>
        <th>Status</th>
    </tr>

    {% for order in orders %}
        {% for item in order.items.all %}
        <tr>
            <td>{{ order.id }}</td>
            <td>{{ item.product.name }}</td>
            <td>{{ item.quantity }}</td>
            <td>₹{{ item.price }}</td>
            <td>₹{{ item.price|floatformat:2|add:""|default_if_none:"" }}</td>
            <td>{{ order.created_at }}</td>
            <td class="status">{{ order.status }}</td>
        </tr>
        {% endfor %}
    {% endfor %}
</table>
</div>
{% else %}
<p class="empty">You have not placed any orders yet.</p>
{% endif %}

{% endblock %}
